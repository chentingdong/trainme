generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model activity {
  resource_state                Float?
  athlete                       Json     @db.Json
  name                          String?
  distance                      Float?
  moving_time                   Float?
  elapsed_time                  Float?
  total_elevation_gain          Float?
  type                          String?
  sport_type                    String?
  workout_type                  Float?
  id                            Float    @unique
  start_date                    String?
  start_date_local              String?
  timezone                      String?
  utc_offset                    Float?
  location_city                 String?
  location_state                String?
  location_country              String?
  achievement_count             Float?
  kudos_count                   Float?
  comment_count                 Float?
  athlete_count                 Float?
  photo_count                   Float?
  map                           Json?    @db.Json
  trainer                       Boolean?
  commute                       Boolean?
  manual                        Boolean?
  private                       Boolean?
  visibility                    String?
  flagged                       Boolean?
  gear_id                       String?
  start_latlng                  Json?    @db.Json
  end_latlng                    Json?    @db.Json
  average_speed                 Float?
  max_speed                     Float?
  average_cadence               Float?
  average_temp                  Float?
  has_heartrate                 Boolean?
  average_heartrate             Float?
  max_heartrate                 Float?
  heartrate_opt_out             Boolean?
  display_hide_heartrate_option Boolean?
  elev_high                     Float?
  elev_low                      Float?
  upload_id                     Float?
  upload_id_str                 String?
  external_id                   String?
  from_accepted_tag             Boolean?
  pr_count                      Float?
  total_photo_count             Float?
  has_kudoed                    Boolean?
  suffer_score                  Float?
  average_watts                 Float?
  max_watts                     Float?
  weighted_average_watts        Float?
  kilojoules                    Float?
  device_watts                  Boolean?
  uuid                          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid

  workout_schedule workout_schedule[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model lap {
  id                   Float    @unique
  resource_state       Float?
  name                 String?
  activity             Json?    @db.Json
  athlete              Json?    @db.Json
  elapsed_time         Float?
  moving_time          Float?
  start_date           String?
  start_date_local     String?
  distance             Float?
  start_index          Float?
  end_index            Float?
  total_elevation_gain Float?
  average_speed        Float?
  max_speed            Float?
  average_cadence      Float?
  device_watts         Boolean?
  average_watts        Float?
  average_heartrate    Float?
  max_heartrate        Float?
  lap_index            Float?
  split                Float?
  pace_zone            Float?
  uuid                 String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model workout {
  id               String             @id @default(uuid()) @db.Uuid
  sport_type_id    Int
  name             String?
  description      String?
  steps            Json?
  distance         Float?
  duration         Float?
  workout_schedule workout_schedule[] 
  sport_type       sport_type         @relation(fields: [sport_type_id], references: [id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model workout_schedule {
  id            String    @id @db.Uuid
  workout_id    String    @db.Uuid
  schedule_date DateTime
  activity_uuid String?   @db.Uuid
  feeling       Int?
  rpe           Int?
  notes         String?   @db.VarChar(255)
  workout       workout   @relation(fields: [workout_id], references: [id])
  activity      activity? @relation(fields: [activity_uuid], references: [uuid])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model sport_type {
  id         Int       @id @default(autoincrement())
  type       String
  sport_type String
  active     Boolean?
  workout    workout[]
}

enum WorkoutStatus {
  PENDING
  COMPLETED
  SKIPPED
}
